<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Set: <%= set.name %></title>
  <link rel="stylesheet" href="/css/main.css">
</head>

<body>
  <!-- Navbar -->
  <%- include('partials/navbar', { page: '' }) %>

  <!-- Hero Section -->
  <div class="container mx-auto p-4">
    <div class="hero bg-base-200 rounded-lg p-6">
      <div class="hero-content text-center">
        <h1 class="text-5xl font-bold">Edit Set: <%= set.name %></h1>
        <p class="py-6">Update the details for this Lego set below.</p>
      </div>
    </div>

    <!-- Form -->
    <div class="container mx-auto p-4">
      <form action="/lego/editSet" method="POST" class="form-control bg-white p-6 rounded-lg shadow-lg">
        <!-- Set Number -->
        <label for="set_num" class="label font-bold">Set Number</label>
        <input type="text" id="set_num" name="set_num" class="input input-bordered w-full cursor-not-allowed" value="<%= set.set_num %>" readonly>

        <!-- Set Name -->
        <label for="name" class="label font-bold">Set Name</label>
        <input type="text" id="name" name="name" class="input input-bordered w-full" value="<%= set.name %>" required>

        <!-- Year -->
        <label for="year" class="label font-bold">Year</label>
        <input type="number" id="year" name="year" class="input input-bordered w-full" value="<%= set.year %>" required>

        <!-- Number of Parts -->
        <label for="num_parts" class="label font-bold">Number of Parts</label>
        <input type="number" id="num_parts" name="num_parts" class="input input-bordered w-full" value="<%= set.num_parts %>" required>

        <!-- Image URL -->
        <label for="img_url" class="label font-bold">Image URL</label>
        <input type="url" id="img_url" name="img_url" class="input input-bordered w-full" value="<%= set.img_url %>" required>

        <!-- Theme -->
        <label for="theme_id" class="label font-bold">Theme</label>
        <select id="theme_id" name="theme_id" class="select select-bordered w-full" required>
          <% themes.forEach(theme => { %>
          <option value="<%= theme.id %>" <%= (set.theme_id == theme.id) ? 'selected' : '' %>><%= theme.name %></option>
          <% }) %>
        </select>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary mt-4">Update Set</button>

      <!-- Delete Set Button -->
      <form action="/lego/deleteSet/<%= set.set_num %>" method="GET" onsubmit="return confirm('Are you sure you want to delete this set?');">
        <button type="submit" class="btn btn-error mt-6">Delete Set</button>
      </form>

      </form>
    </div>
  </div>
</body>

</html>